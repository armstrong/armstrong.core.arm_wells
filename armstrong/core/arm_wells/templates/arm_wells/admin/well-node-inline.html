{% extends 'admin/edit_inline/backbone.html' %}

{% block templates %}
<script type="text/template" id="{{ prefix }}-list-item-template">
    <button class="delete">Delete</button
    <span class="content"><%= attributes.content_type %> - <%= attributes.object_id %></span>
    <b><%= attributes.order %></b>
</script>
<script>
$(function() {
    window.{{ prefix }}Collection = new window.NodeList();
    window.{{ prefix }}Collection.parseForm('{{ prefix }}');
    window.App = new window.NodeListView({
        prefix: '{{ prefix }}',
        collection: window.{{ prefix }}Collection,
        el: '#{{ prefix }}-collection'
    });
    window.App.addAll();
    $("#{{ prefix }}-collection").sortable();
    $("#{{ prefix }}-collection").bind("sortupdate", function(event, ui){
        window.App.sorted();
    });
});
</script>
{% endblock %}
