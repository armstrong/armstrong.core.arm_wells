{% extends 'admin/edit_inline/backbone.html' %}

{% block emptyForm %}
    {{ inline_admin_formset.formset.empty_form.as_p }}

    <script>
    $(document).ready(function() {
        armstrong.widgets.generickey($, {
          facetURL: "{% url admin:generic_key_facets %}",
          queryLookupURL: "{% url admin:type_and_model_to_query %}",
          id: "id_{{ prefix }}-__prefix__-object_id"
        });
    });
    </script>

{% endblock %}

{% block templates %}
<script type="text/template" id="{{ prefix }}-list-item-template">
    <button class="delete">Delete</button
    <span class="content"><%= attributes.content_type %> - <%= attributes.object_id %></span>
    <b><%= attributes.order %></b>
</script>
<script>
$(function() {
    window.App = new window.NodeListView({
        prefix: '{{ prefix }}',
        el: '#{{ prefix }}-collection'
    });
    window.App.addAll();
});
</script>
{% endblock %}
